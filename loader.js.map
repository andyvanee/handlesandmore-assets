{"version":3,"file":"loader.js","sources":["../src/loader.js"],"sourcesContent":["const append = e => document.head.appendChild(e)\n\nconst createElement = (t, p) => {\n    var e = document.createElement(t)\n    for (var prop in p) e[prop] = p[prop]\n    return e\n}\n\nconst loadScript = (src, b, c) => {\n    var sc = src\n        ? createElement(\"script\", { src })\n        : createElement(\"script\", { innerHTML: b })\n    sc.onload = src ? b : c\n    append(sc)\n    return loadScript\n}\n\nconst loadModule = src => {\n    var sc = createElement(\"script\", { src, type: \"module\" })\n    append(sc)\n}\n\nconst preloadScript = u => {\n    var l = createElement(\"link\", {\n        rel: \"preload\",\n        as: \"script\",\n        href: u\n    })\n    append(l)\n    return preloadScript\n}\n\ntry {\n    new Function('import(\"\")')\n    loadModule(\"/index.js\")\n} catch (err) {\n    // Preload\n    preloadScript(\"/babel-polyfills-nomodule.js\")\n    preloadScript(\"/@webcomponents/webcomponentsjs/webcomponents-loader.js\")\n    preloadScript(\"/index.nomodule.js\")\n\n    // Add scripts in order\n    loadScript(\"/babel-polyfills-nomodule.js\", function () {\n        loadScript(\n            \"/@webcomponents/webcomponentsjs/webcomponents-loader.js\",\n            function () {\n                loadScript(\"/index.nomodule.js\")\n            }\n        )\n    })\n}\n"],"names":["sc","append","e","document","head","appendChild","createElement","t","p","prop","loadScript","src","b","c","innerHTML","onload","preloadScript","u","l","rel","as","href","Function","type","err"],"mappings":"yBAAA,IAkBQA,EAlBFC,EAAS,SAAAC,UAAKC,SAASC,KAAKC,YAAYH,IAExCI,EAAgB,SAACC,EAAGC,OAClBN,EAAIC,SAASG,cAAcC,OAC1B,IAAIE,KAAQD,EAAGN,EAAEO,GAAQD,EAAEC,UACzBP,GAGLQ,EAAa,SAAbA,EAAcC,EAAKC,EAAGC,OACpBb,EACEM,EAAc,SADXK,EACqB,CAAEA,IAAAA,GACF,CAAEG,UAAWF,WAC3CZ,EAAGe,OAASJ,EAAMC,EAAIC,EACtBZ,EAAOD,GACAU,GAQLM,EAAgB,SAAhBA,EAAgBC,OACdC,EAAIZ,EAAc,OAAQ,CAC1Ba,IAAK,UACLC,GAAI,SACJC,KAAMJ,WAEVhB,EAAOiB,GACAF,GAGX,QACQM,SAAS,cAfTtB,EAAKM,EAAc,SAAU,CAAEK,IAgBxB,YAhB6BY,KAAM,WAC9CtB,EAAOD,GAgBT,MAAOwB,GAELR,EAAc,gCACdA,EAAc,2DACdA,EAAc,sBAGdN,EAAW,gCAAgC,WACvCA,EACI,2DACA,WACIA,EAAW"}