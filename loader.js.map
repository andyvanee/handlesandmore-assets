{"version":3,"file":"loader.js","sources":["../src/version.js","../src/loader.js"],"sourcesContent":["export const version = \"0.11\"\n","import { version } from \"./version.js\"\n;((doc, origin) => {\n    const append = e => doc.head.appendChild(e)\n\n    const createElement = (t, p) => {\n        var e = doc.createElement(t)\n        for (var prop in p) e[prop] = p[prop]\n        return e\n    }\n\n    const loadScript = (src, b, c) => {\n        var sc = src\n            ? createElement(\"script\", { src: origin + src })\n            : createElement(\"script\", { innerHTML: b })\n        sc.onload = src ? b : c\n        append(sc)\n        return loadScript\n    }\n\n    const loadModule = src => {\n        var sc = createElement(\"script\", { src: origin + src, type: \"module\" })\n        append(sc)\n    }\n\n    const preloadScript = u => {\n        var l = createElement(\"link\", {\n            rel: \"preload\",\n            as: \"script\",\n            href: u\n        })\n        append(l)\n        return preloadScript\n    }\n\n    try {\n        new Function('import(\"\")')\n        loadModule(`/index.js?${version}`)\n    } catch (err) {\n        // Preload\n        preloadScript(\"/babel-polyfills-nomodule.js\")\n        preloadScript(\"/@webcomponents/webcomponentsjs/webcomponents-loader.js\")\n        preloadScript(`/index.nomodule.js?${version}`)\n\n        // Add scripts in order\n        loadScript(\"/babel-polyfills-nomodule.js\", () => {\n            loadScript(\n                \"/@webcomponents/webcomponentsjs/webcomponents-loader.js\",\n                () => {\n                    loadScript(`/index.nomodule.js?${version}`)\n                }\n            )\n        })\n    }\n})(document, \"https://assets.handlesandmore.ca\")\n"],"names":["version","doc","origin","src","sc","append","e","head","appendChild","createElement","t","p","prop","loadScript","b","c","innerHTML","onload","preloadScript","u","l","rel","as","href","Function","type","err","document"],"mappings":"YAAO,IAAMA,EAAU,QCCtB,SAAEC,EAAKC,OAkBeC,EACXC,EAlBFC,EAAS,SAAAC,UAAKL,EAAIM,KAAKC,YAAYF,IAEnCG,EAAgB,SAACC,EAAGC,OAClBL,EAAIL,EAAIQ,cAAcC,OACrB,IAAIE,KAAQD,EAAGL,EAAEM,GAAQD,EAAEC,UACzBN,GAGLO,EAAa,SAAbA,EAAcV,EAAKW,EAAGC,OACpBX,EACEK,EAAc,SADXN,EACqB,CAAEA,IAAKD,EAASC,GAChB,CAAEa,UAAWF,WAC3CV,EAAGa,OAASd,EAAMW,EAAIC,EACtBV,EAAOD,GACAS,GAQLK,EAAgB,SAAhBA,EAAgBC,OACdC,EAAIX,EAAc,OAAQ,CAC1BY,IAAK,UACLC,GAAI,SACJC,KAAMJ,WAEVd,EAAOe,GACAF,WAIHM,SAAS,cAhBErB,sBAiBSH,GAhBpBI,EAAKK,EAAc,SAAU,CAAEN,IAAKD,EAASC,EAAKsB,KAAM,WAC5DpB,EAAOD,GAgBT,MAAOsB,GAELR,EAAc,gCACdA,EAAc,2DACdA,+BAAoClB,IAGpCa,EAAW,gCAAgC,WACvCA,EACI,2DACA,WACIA,+BAAiCb,WA/CpD,CAoDE2B,SAAU"}